[<к содержанию](./readme.md)

# Запись изменений в репозиторий
Каждый файл в вашем рабочем каталоге может находиться в одном из двух состояний: под версионным контролем (отслеживаемые) и нет (неотслеживаемые). 

*Отслеживаемые файлы* — это те файлы, которые были в последнем снимке состояния проекта; они могут быть неизменёнными, изменёнными или подготовленными к коммиту.

*Неотслеживаемые файлы* — это всё остальное, любые файлы в вашем рабочем каталоге, которые не входили в ваш последний снимок состояния и не подготовлены к коммиту.



## Определение состояния файлов
---
Основной инструмент, используемый для определения, какие файлы в каком состоянии находятся — это команда `git status`. 


## Отслеживание новых, индексация изменённых файлов
---
Для того чтобы начать отслеживать (добавить под версионный контроль) новый файл или для индексации изменений, а также для других целей, например для указания файлов с исправленным конфликтом слияния, используется команда 
`git add`.


## Игнорирование файлов
---
Зачастую, у вас имеется группа файлов, которые вы не только не хотите автоматически добавлять в репозиторий, но и видеть в списках неотслеживаемых. К таким файлам обычно относятся автоматически генерируемые файлы (различные логи, результаты сборки программ и т. п.). В таком случае, вы можете создать файл `.gitignore` с перечислением шаблонов соответствующих таким файлам. 

К шаблонам в файле `.gitignore` применяются следующие правила:

* Пустые строки, а также строки, начинающиеся с #, игнорируются.
* Стандартные шаблоны являются глобальными и применяются рекурсивно для всего дерева каталогов.
* Чтобы избежать рекурсии используйте символ слеш (/) в начале шаблона.
* Чтобы исключить каталог добавьте слеш (/) в конец шаблона.
* Можно инвертировать шаблон, использовав восклицательный знак (!) в качестве первого символа.


## Просмотр индексированных и неиндексированных изменений
---

Если результат работы команды `git status` недостаточно информативен для вас — вам хочется знать, что конкретно поменялось, а не только какие файлы были изменены — вы можете использовать команду `git diff`.

Чтобы увидеть, что же вы изменили, но пока не проиндексировали, наберите `git diff` без аргументов. Эта команда сравнивает содержимое вашего рабочего каталога с содержимым индекса. 

Если вы хотите посмотреть, что вы проиндексировали и что войдёт в следующий коммит, вы можете выполнить ```git diff --staged``` 
или `git diff --cached` (*--staged* и *--cached* синонимы). Эта команда сравнивает ваши проиндексированные изменения с последним коммитом.


## Коммит изменений
---
Теперь, когда ваш индекс находится в таком состоянии, как вам и хотелось, вы можете зафиксировать свои изменения. Запомните, всё, что до сих пор не проиндексировано — любые файлы, созданные или изменённые вами, и для которых вы не выполнили `git add` после редактирования — не войдут в этот коммит. Они останутся изменёнными файлами на вашем диске.

Простейший способ зафиксировать изменения — это набрать:
```
$ git commit
```
Эта команда откроет выбранный вами текстовый редактор для ввода комментария.

Вы можете набрать свой комментарий к коммиту в командной строке вместе с командой `commit` указав его после параметра *-m*, например:
```
$ git commit -m "Story 182: fix benchmarks for speed"
```

## Игнорирование индексации
---
Добавление параметра `-a` в команду `git commit` заставляет GIT автоматически индексировать каждый уже отслеживаемый на момент коммита файл, позволяя вам обойтись без `git add`.

Это удобно, но будьте осторожны: флаг `-a` может включить в коммит нежелательные изменения.

## Удаление файлов
---
Для того чтобы удалить файл из GIT, вам необходимо удалить его из отслеживаемых файлов (точнее, удалить его из вашего индекса) а затем выполнить коммит. Это позволяет сделать команда `git rm <файл>`, которая также удаляет файл из вашего рабочего каталога, так что в следующий раз вы не увидите его как «неотслеживаемый».

Если вы просто удалите файл из своего рабочего каталога, он будет показан в секции *«Changes not staged for commit»* (изменённые, но не проиндексированные) вывода команды `git status`.
Затем, если вы выполните команду `git rm`, удаление файла попадёт в индекс.После следующего коммита файл исчезнет и больше не будет отслеживаться.

Если вы изменили файл и уже проиндексировали его, вы должны использовать принудительное удаление с помощью параметра `-f`. Это сделано для повышения безопасности, чтобы предотвратить ошибочное удаление данных, которые ещё не были записаны в снимок состояния и которые нельзя восстановить из GIT.


[![Prev](/assets/prev3.png)](repo_create.md "Предыдущий раздел")[![Next](/assets/next3.png)](commit.md "Следующий раздел")